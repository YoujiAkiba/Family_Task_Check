<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>family task</title>
    <link rel="stylesheet" href="assets2/css/main.css"> <!-- Linking compiled CSS -->
</head>
	
<body>
<header>
    <h3 id="current-date">真白、ママ、パパの</h3>
</header>


<main>
<section id="tasks-mashiro" class="task-section">

<div class="image-wrapper">
	<p id="prev-completion-rate-mashiro" class="prev-rate">前日の達成率: データなし</p><br>
    <p id="completion-rate">達成率: 0%</p>
    <img id="progress-image" src="assets2/img/mashiro0.png" alt="ましろの画像" class="padded-image">
</div>

	
<ul>
	
<li>
  <input type="checkbox" id="mashiro-1" class="task-checkbox">
  <label for="mashiro-1">英単語の記憶</label>
</li>

<li>
  <input type="checkbox" id="mashiro-2" class="task-checkbox">
  <label for="mashiro-2">算数の勉強</label>
</li>

<li>
  <input type="checkbox" id="mashiro-3" class="task-checkbox">
  <label for="mashiro-3">ダンスの練習</label>
</li>

<li>
  <input type="checkbox" id="mashiro-4" class="task-checkbox">
  <label for="mashiro-4">お風呂に入る</label>
</li>

<li>
  <input type="checkbox" id="mashiro-5" class="task-checkbox">
  <label for="mashiro-5">算数の勉強</label>
</li>

<li>
  <input type="checkbox" id="mashiro-6" class="task-checkbox">
  <label for="mashiro-6">算数の勉強</label>
</li>

<li>
  <input type="checkbox" id="mashiro-7" class="task-checkbox">
  <label for="mashiro-7">算数の勉強</label>
</li>
		
<li>
  <input type="checkbox" id="mashiro-8" class="task-checkbox">
  <label for="mashiro-8">算数の勉強</label>
</li>

<li>
  <input type="checkbox" id="mashiro-9" class="task-checkbox">
  <label for="mashiro-9">算数の勉強</label>
</li>
		
<li>
  <input type="checkbox" id="mashiro-10" class="task-checkbox">
  <label for="mashiro-10">算数の勉強</label>
</li>
		
</ul>
	
</section>

<section id="tasks-mama" class="task-section">
   <div class="image-wrapper">
	<p id="prev-completion-rate-mama" class="prev-rate">前日の達成率: データなし</p><br>
    <p id="completion-rate-mama">達成率: 0%</p>
    <img id="progress-image-mama" src="assets2/img/mama0.png" alt="ママの画像" class="padded-image">
</div>

	
    <ul>
        <li><input type="checkbox" id="mama-1" class="task-checkbox"><label for="mama-1">買い物に行く</label></li>
        
		<li><input type="checkbox" id="mama-2" class="task-checkbox"><label for="mama-2">家計簿をつける</label></li>
        
		<li><input type="checkbox" id="mama-3" class="task-checkbox"><label for="mama-3">料理を作る</label></li>
        
		<li><input type="checkbox" id="mama-4" class="task-checkbox"><label for="mama-4">洗濯物をたたむ</label></li>
        
		<li><input type="checkbox" id="mama-5" class="task-checkbox"><label for="mama-5">部屋を片付ける</label></li>
        
		<li><input type="checkbox" id="mama-6" class="task-checkbox"><label for="mama-6">植物に水をやる</label></li>
        
		<li><input type="checkbox" id="mama-7" class="task-checkbox"><label for="mama-7">メールの返信をする</label></li>
        
		<li><input type="checkbox" id="mama-8" class="task-checkbox"><label for="mama-8">書類を整理する</label></li>
        
		<li><input type="checkbox" id="mama-9" class="task-checkbox"><label for="mama-9">ゴミを出す</label></li>
		
    </ul>
	
</section>


<section id="tasks-papa" class="task-section">
    <div class="image-wrapper">
	<p id="prev-completion-rate-papa" class="prev-rate">前日の達成率: データなし</p><br>
    <p id="completion-rate-papa">達成率: 0%</p>
    <img id="progress-image-papa" src="assets2/img/papa0.png" alt="パパの画像" class="padded-image">
</div>

	
    <ul>
		
        <li><input type="checkbox" id="papa-1" class="task-checkbox"><label for="papa-1">車のメンテナンス</label></li>
        
		<li><input type="checkbox" id="papa-2" class="task-checkbox"><label for="papa-2">書類の提出</label></li>
        
		<li><input type="checkbox" id="papa-3" class="task-checkbox"><label for="papa-3">犬の散歩</label></li>
        
		<li><input type="checkbox" id="papa-4" class="task-checkbox"><label for="papa-4">子供を学校に送る</label></li>
        
		<li><input type="checkbox" id="papa-5" class="task-checkbox"><label for="papa-5">オンライン会議に出席する</label>
		</li>
        
		<li><input type="checkbox" id="papa-6" class="task-checkbox"><label for="papa-6">新聞を読む</label></li>
        
		<li><input type="checkbox" id="papa-7" class="task-checkbox"><label for="papa-7">靴を磨く</label></li>
        
		<li><input type="checkbox" id="papa-8" class="task-checkbox"><label for="papa-8">庭の草むしり</label></li>
        
		<li><input type="checkbox" id="papa-9" class="task-checkbox"><label for="papa-9">仕事の資料を作成する</label></li>
        
		<li><input type="checkbox" id="papa-10" class="task-checkbox"><label for="papa-10">トイレ掃除をする</label></li>
        
		<li><input type="checkbox" id="papa-11" class="task-checkbox"><label for="papa-11">子供と遊ぶ</label></li>
        
		<li><input type="checkbox" id="papa-12" class="task-checkbox"><label for="papa-12">食器を片付ける</label></li>
		
    </ul>
	
</section>



</main>



    <footer>
        <p>習慣になるように頑張ろうね！</p>
    </footer>
	
<audio id="taskCompleteSound" src="assets2/se/ok1.mp3"></audio>

	<!-- Firebase SDKを利用した設定スクリプト -->
<script type="module">
  // Firebase SDKをインポート
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
  import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-database.js";

  // Firebase設定
  const firebaseConfig = {
    apiKey: "AIzaSyDL2woendmFizBS1B9l0S9fzg4I7fntuyw",
    authDomain: "familytaskapp-a2b84.firebaseapp.com",
    databaseURL: "https://familytaskapp-a2b84-default-rtdb.firebaseio.com",
    projectId: "familytaskapp-a2b84",
    storageBucket: "familytaskapp-a2b84.firebasestorage.app",
    messagingSenderId: "583031757451",
    appId: "1:583031757451:web:9658adf43f4fdceb3a528e"
  };
	
  // Firebaseの初期化
  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
	

   // ページが読み込まれたら実行
  document.addEventListener('DOMContentLoaded', function () {
    const checkboxes = document.querySelectorAll('.task-checkbox');
    checkboxes.forEach(checkbox => {
      const taskRef = ref(database, 'tasks/' + checkbox.id);

      // データベースの値をリアルタイムに監視して、UIに反映
      onValue(taskRef, (snapshot) => {
        const value = snapshot.val();
        if (value !== null) {
          checkbox.checked = value.checked;
        }
      });

      // チェックボックスの変更をデータベースに保存
      checkbox.addEventListener('change', () => {
        set(taskRef, { checked: checkbox.checked });
      });
    });
  });
</script>

<!-- メインスクリプト -->
	
	
    <script src="assets2/js/main.js"></script> <!-- Linking JavaScript -->
</body>
</html>
